package Recursion.Medium;


import java.util.ArrayList;
import java.util.List;

public class CombinationSum {
    public static void main(String... args) {
        Solution sol = new Solution();

        int[] test1 = {2, 3, 6, 7};
        int target1 = 7;
        System.out.println(sol.combinationSum(test1, target1));

        int[] test2 = {2, 3, 5};
        int target2 = 8;
        System.out.println(sol.combinationSum(test2, target2));


    }

    static class Solution {
        public List<List<Integer>> combinationSum(int[] candidates, int target) {
            List<List<Integer>> result = new ArrayList<>();
            combinationSumTarget(candidates, target, 0, new ArrayList<>(), result);

            return result;
        }

        public void combinationSumTarget(int[] candidates, int target, int idx, List<Integer> cur, List<List<Integer>> result) {

            if (target == 0) {
                result.add(new ArrayList<>(cur));
                return;
            }

            if (target < 0 || idx == candidates.length) {
                return;
            }

            cur.addLast(candidates[idx]);
            combinationSumTarget(candidates, target - candidates[idx], idx, cur, result);
            cur.removeLast();

            combinationSumTarget(candidates, target, idx + 1, cur, result);

        }
    }
}
